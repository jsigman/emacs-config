* Debug Adapter Protocal (DAP)
#+PROPERTY: header-args:emacs-lisp :load yes

#+BEGIN_SRC elisp
(straight-use-package 'dap-mode)
(add-hook
 'dap-stopped-hook (lambda (arg) (call-interactively #'dap-hydra)))

;; Enabling only some features
(setq dap-auto-configure-features '(sessions locals controls tooltip))
(setq dap-python-debugger 'debugpy)

(require 'dap-mode)
(require 'dap-python)
(require 'dap-ui)

(add-hook 'python-base-mode-hook 'dap-mode)
(add-hook 'python-base-mode-hook 'dap-ui-mode)
(add-hook 'python-base-mode-hook 'dap-tooltip-mode)

;; (define-key python-base-mode-map (kbd "C-r") 'dap-debug)
(define-key python-base-mode-map (kbd "M-D") #'dap-hydra)


(provide 'dap-settings)
#+END_SRC
